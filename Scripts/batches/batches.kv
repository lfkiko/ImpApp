#:import utils kivy.utils


<batchesWindow>
    name: "batches"
    BoxLayout:
        padding: 10
        spacing: 20
        orientation: "vertical"
        size: root.width, root.height

        HeaderLabel:
            text: "Batches"

        BoxLayout:
            orientation: "vertical"
            size: root.width, root.height
            padding: 10
            spacing: 20

            GridLayout:
                cols: 2
                size_hint_y: None
                height:90
                spacing: 20
                padding: 20
                MySpinner:
                    id: method
                    text: "Choose a Method"
                    values: 'New Batch','Modify existing batch'

#                MySpinner:
#                    id: batch
#                    text: "Choose batch"
#                    values: 'data-assets','push', 'ACT', 'purging'


                GridLayout:
                    id: checkBoxs
                    text: ""
                    cols: 2
                    UserInputBox:
                        UserInputLabel:
                            text: "data-assets:"
                        MyCheckBox:
                            id: data-assets
                            group: 'batches'
                            on_active: root.checkBoxClick('data-assets')


                    UserInputBox:
                        UserInputLabel:
                            text: "push:"
                        MyCheckBox:
                            id: push
                            group: 'batches'
                            on_active: root.checkBoxClick('push')


                    UserInputBox:
                        UserInputLabel:
                            text: "ACT:"
                        MyCheckBox:
                            id: ACT
                            group: 'batches'
                            on_active: root.checkBoxClick('ACT')

                    UserInputBox:
                        UserInputLabel:
                            text: "purging:"
                        MyCheckBox:
                            id: purging
                            group: 'batches'
                            on_active: root.checkBoxClick('purging')

            # core path
            MyFileChooserBox
                MyFileChooserGrid:
                    MyFileChooserLabel:
                        text: "Core path:"
                    MyFileChooserExmp:
                        id: corePath
                        text: "C:\\GIT\\perso-core"

                BoxLayout
                    orientation: "horizontal"
                    spacing: 30
                    MyFileChooser:
                        id: coreChooser

                    fileChooserButton:
                        spacing: 20
                        on_release: Factory.MenuWindow().selected(root,"c",coreChooser.path)

                Label:
                    text: "* for modifying existing batch no need for core path"
                    font_size: 14
                    color: (0,0,0)
#                    bold: True
                    size_hint: None, None
                    size: self.texture_size
                    halign:'left'


            #Solution path
            MyFileChooserBox
                MyFileChooserGrid:
                    MyFileChooserLabel:
                        text: "Solution path:"

                    MyFileChooserExmp:
                        id: solutionPath
                        text: "C:\\GIT\\solution\\biz-units\\perso-biz\\Projects\\solution$QA"

                BoxLayout
                    orientation: "horizontal"
                    spacing: 30
                    MyFileChooser:
                        id: solutionChooser
                    fileChooserButton:
                        on_release: Factory.MenuWindow().selected(root,"s",solutionChooser.path)

        #menu
        tailBoxLayout:
            RoundedButton:
                text: "Back"
                on_release:
                    app.root.current = "menu"
                    root.manager.transition.direction = "right"

            RoundedButton:
                text: "Help"
                on_release: Factory.MenuWindow().openKB(root)

            RoundedButton:
                text: "Next"
                on_press: root.update(Factory.batchesPropertiesWindow(),self.ids.checkBoxs.text)
                on_release:
                    app.root.current = "batchesProperties"
                    root.manager.transition.direction = "left"




