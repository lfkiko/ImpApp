#:import utils kivy.utils
<enableInsightsWindow>
    name: "enableInsights"

    BoxLayout:
        padding: 10
        spacing: 20
        orientation: "vertical"
        size: root.width, root.height

        HeaderLabel:
            text: "Enable Insights"

        # core path
        MyFileChooserBox
            MyFileChooserGrid:
                MyFileChooserLabel:
                    text: "Core path:"
                MyFileChooserExmp:
                    id: corePath
                    text: "C:\\GIT\\perso-core"

            BoxLayout
                orientation: "horizontal"
                spacing: 30
                MyFileChooser:
                    id: coreChooser
#                    on_selection: Factory.MenuWindow().refreshPath(root,"c",coreChooser.path)

                fileChooserButton:
                    spacing: 20
                    on_release: Factory.MenuWindow().selected(root,"c",coreChooser.path)


        #Solution path
        MyFileChooserBox:
            MyFileChooserGrid:
                MyFileChooserLabel:
                    text: "Solution path:"

                MyFileChooserExmp:
                    id: solutionPath
                    text: "C:\\GIT\\solution\\biz-units\\perso-biz\\Projects\\solution$QA"

            BoxLayout
                orientation: "horizontal"
                spacing: 30
                MyFileChooser:
                    id: solutionChooser
#                    on_selection: Factory.MenuWindow().refreshPath(root,"s",coreChooser.path)
                fileChooserButton:
                    on_release: Factory.MenuWindow().selected(root,"s",solutionChooser.path)

        #data file
        BoxLayout:
            orientation: "vertical"
            BoxLayout
                orientation: "horizontal"

                Label:
                    text: "Input insights file - "
                    font_size: 32
                    bold: True
                    pos_hint: {'center_x': 1, 'center_y': 0.5}

                openFileButton:
                    on_release: Factory.MenuWindow().openFile(root.name)


        #menu
        tailBoxLayout
            RoundedButton:
                text: "Back"
                pos_hint: {'center_x': 0.5}
                on_release:
                    app.root.current = "menu"
                    root.manager.transition.direction = "right"

            RoundedButton:
                text: "Help"
                pos_hint: {'center_x': 0.5}
                on_release: Factory.MenuWindow().openKB(root)

            RoundedButton:
                text: "Run"
                pos_hint: {'center_x': 0.5}
                on_release: root.runFunc(corePath.text,solutionPath.text)